image:
  repository: asia-southeast1-docker.pkg.dev/test-devops-478606/test-devops-images/test-devops
  tag: "v1.1"           # ระบุ tag ให้ตรงกับที่ใช้จริง แทน "latest"
  pullPolicy: Always

app:
  replicaCount: 1
  port: 3000            # port ที่ container ฟังอยู่
  env:
    NODE_ENV: "production"
    STATSD_HOST: "graphite"
    STATSD_PORT: "8125"

# config ของ service หลักของ app (test-devops-app)
service:
  type: NodePort        # สำคัญ: GCE ingress ต้องการ NodePort / LoadBalancer
  port: 80              # service port ที่ Ingress ใช้
  # ถ้าอยาก fix nodePort เองก็ใส่เพิ่มได้ เช่น:
  # nodePort: 30080     # ถ้าไม่ใส่ Kubernetes จะสุ่มให้ในช่วง 30000-32767

graphite:
  enabled: true
  image: "graphiteapp/graphite-statsd"
  tag: "latest"
  webPort: 80
  serviceType: LoadBalancer   # เปลี่ยนเป็น LoadBalancer เพื่อให้เข้าถึงจากภายนอกได้

resources: {}
