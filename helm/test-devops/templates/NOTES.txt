üéâ {{ .Chart.Name }} has been deployed successfully!

Release: {{ .Release.Name }}
Namespace: {{ .Release.Namespace }}
Chart Version: {{ .Chart.Version }}
App Version: {{ .Chart.AppVersion }}

================================================================================
üåê ACCESS YOUR APPLICATION
================================================================================

{{- if eq .Values.service.type "NodePort" }}

Your application is available at:

  ‚úÖ http://localhost:{{ .Values.service.nodePort }}

Test it:

  curl http://localhost:{{ .Values.service.nodePort }}/

Health check:

  curl http://localhost:{{ .Values.service.nodePort }}/healthz

{{- else }}

Port-forward to access:

  kubectl port-forward -n {{ .Release.Namespace }} svc/{{ include "test-devops.fullname" . }} 3000:3000

Then open: http://localhost:3000

{{- end }}

================================================================================
üìä MONITORING STATUS
================================================================================

{{- if .Values.datadog.enabled }}
‚úÖ Datadog Agent: ENABLED
   - DogStatsD Port: {{ .Values.datadog.agent.dogstatsd.port }}
   - APM: {{ if .Values.datadog.agent.apm.enabled }}ENABLED{{ else }}DISABLED{{ end }}
   - Logs: {{ if .Values.datadog.agent.logs.enabled }}ENABLED{{ else }}DISABLED{{ end }}
   
   View Datadog Agent status:
   kubectl exec -n {{ .Release.Namespace }} -it daemonset/{{ include "test-devops.fullname" . }}-datadog-agent -- agent status

   Check metrics in Datadog:
   https://app.{{ .Values.datadog.site }}/infrastructure
{{- else }}
‚ö†Ô∏è  Datadog Agent: DISABLED
   
   To enable Datadog monitoring:
   helm upgrade {{ .Release.Name }} ./helm/test-devops \
     -n {{ .Release.Namespace }} \
     --set datadog.enabled=true \
     --set datadog.apiKey=<YOUR_API_KEY>
{{- end }}

{{- if .Values.prometheus.enabled }}
‚úÖ Prometheus ServiceMonitor: ENABLED
   - Metrics Path: {{ .Values.prometheus.serviceMonitor.path }}
   - Scrape Interval: {{ .Values.prometheus.serviceMonitor.interval }}
{{- end }}

{{- if .Values.autoscaling.enabled }}
‚úÖ Horizontal Pod Autoscaler: ENABLED
   - Min Replicas: {{ .Values.autoscaling.minReplicas }}
   - Max Replicas: {{ .Values.autoscaling.maxReplicas }}
   - CPU Target: {{ .Values.autoscaling.targetCPUUtilizationPercentage }}%
   - Memory Target: {{ .Values.autoscaling.targetMemoryUtilizationPercentage }}%
{{- else }}
‚ö†Ô∏è  Autoscaling: DISABLED (Fixed {{ .Values.replicaCount }} replica{{ if gt (int .Values.replicaCount) 1 }}s{{ end }})
{{- end }}

================================================================================
üìã USEFUL COMMANDS
================================================================================

View pods:
  kubectl get pods -n {{ .Release.Namespace }}

View logs (follow):
  kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/name={{ include "test-devops.name" . }} -f

View all resources:
  kubectl get all -n {{ .Release.Namespace }}

Describe deployment:
  kubectl describe deployment -n {{ .Release.Namespace }} {{ include "test-devops.fullname" . }}

{{- if .Values.autoscaling.enabled }}

Check HPA status:
  kubectl get hpa -n {{ .Release.Namespace }}
  kubectl describe hpa -n {{ .Release.Namespace }} {{ include "test-devops.fullname" . }}
{{- end }}

Restart deployment:
  kubectl rollout restart deployment -n {{ .Release.Namespace }} {{ include "test-devops.fullname" . }}

Uninstall:
  helm uninstall {{ .Release.Name }} -n {{ .Release.Namespace }}

================================================================================
üí° TIPS
================================================================================

‚Ä¢ For production, enable autoscaling: --set autoscaling.enabled=true
‚Ä¢ Monitor with Datadog: --set datadog.enabled=true --set datadog.apiKey=<KEY>
‚Ä¢ Increase resources for production workloads in values.yaml
‚Ä¢ Use Ingress instead of NodePort for production deployments

================================================================================

Happy Testing! üéâ

üîÑ UPDATE / UNINSTALL
================================================================================

Update:
  helm upgrade {{ .Release.Name }} ./helm/test-devops -n {{ .Release.Namespace }}

Uninstall:
  helm uninstall {{ .Release.Name }} -n {{ .Release.Namespace }}

================================================================================

Happy Testing! üöÄ

